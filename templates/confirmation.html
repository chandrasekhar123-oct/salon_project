<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Booking Confirmed â€“ Salon Essy</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box
    }

    body {
      font-family: 'Inter', sans-serif;
      background: #0f0a1e;
      color: #e2e8f0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 24px 20px 48px;
    }

    /* CONFETTI */
    .confetti-wrap {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden
    }

    .confetti-piece {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 2px;
      animation: fall linear forwards
    }

    @keyframes fall {
      0% {
        transform: translateY(-20px) rotate(0deg);
        opacity: 1
      }

      100% {
        transform: translateY(100vh) rotate(720deg);
        opacity: 0
      }
    }

    /* SUCCESS CIRCLE */
    .success-wrap {
      position: relative;
      z-index: 1;
      text-align: center;
      margin-bottom: 28px;
      margin-top: 16px
    }

    .success-ring {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      margin: 0 auto 20px;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.05));
      border: 3px solid #10b981;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 40px rgba(16, 185, 129, 0.4);
      animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    @keyframes popIn {
      0% {
        transform: scale(0);
        opacity: 0
      }

      100% {
        transform: scale(1);
        opacity: 1
      }
    }

    .check-icon {
      font-size: 44px;
      color: #10b981;
      animation: checkPop 0.4s 0.3s ease both
    }

    @keyframes checkPop {
      0% {
        transform: scale(0)
      }

      100% {
        transform: scale(1)
      }
    }

    .success-title {
      font-size: 26px;
      font-weight: 900;
      color: #fff;
      margin-bottom: 8px
    }

    .success-sub {
      font-size: 14px;
      color: #64748b;
      line-height: 1.5
    }

    .booking-id {
      display: inline-block;
      margin-top: 12px;
      padding: 6px 16px;
      border-radius: 20px;
      background: rgba(168, 85, 247, 0.15);
      border: 1px solid rgba(168, 85, 247, 0.3);
      font-size: 13px;
      font-weight: 700;
      color: #a855f7;
      letter-spacing: 1px;
    }

    /* CARD */
    .card {
      width: 100%;
      max-width: 420px;
      position: relative;
      z-index: 1;
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 24px;
      padding: 24px;
      margin-bottom: 16px;
    }

    .card-title {
      font-size: 12px;
      font-weight: 800;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 16px
    }

    .detail-row {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 12px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05)
    }

    .detail-row:last-child {
      border: none
    }

    .detail-icon {
      width: 38px;
      height: 38px;
      border-radius: 12px;
      background: rgba(168, 85, 247, 0.12);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      color: #a855f7;
      flex-shrink: 0
    }

    .detail-label {
      font-size: 11px;
      color: #64748b;
      margin-bottom: 2px
    }

    .detail-val {
      font-size: 14px;
      font-weight: 700;
      color: #fff
    }

    /* TOTAL */
    .total-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 20px;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(168, 85, 247, 0.12), rgba(236, 72, 153, 0.08));
      border: 1px solid rgba(168, 85, 247, 0.2);
      margin-bottom: 16px;
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 420px;
    }

    .total-label {
      font-size: 14px;
      font-weight: 700;
      color: #e2e8f0
    }

    .total-val {
      font-size: 24px;
      font-weight: 900;
      color: #a855f7
    }

    /* STATUS BADGE */
    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 14px;
      border-radius: 20px;
      background: rgba(251, 191, 36, 0.15);
      border: 1px solid rgba(251, 191, 36, 0.3);
      color: #fbbf24;
      font-size: 12px;
      font-weight: 700;
    }

    .status-dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: #fbbf24;
      animation: blink 1.2s infinite
    }

    @keyframes blink {

      0%,
      100% {
        opacity: 1
      }

      50% {
        opacity: 0.3
      }
    }

    /* BUTTONS */
    .btns {
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 100%;
      max-width: 420px;
      position: relative;
      z-index: 1
    }

    .btn-primary {
      padding: 15px;
      border-radius: 14px;
      border: none;
      background: linear-gradient(135deg, #a855f7, #ec4899);
      color: #fff;
      font-size: 15px;
      font-weight: 800;
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      box-shadow: 0 6px 20px rgba(168, 85, 247, 0.4);
      transition: all 0.2s;
      display: block;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 28px rgba(168, 85, 247, 0.5)
    }

    .btn-secondary {
      padding: 14px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: #aaa;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      text-decoration: none;
      text-align: center;
      transition: 0.2s;
      display: block;
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.08);
      color: #fff
    }
  </style>
</head>

<body>

  <!-- CONFETTI -->
  <div class="confetti-wrap" id="confetti"></div>

  <!-- SUCCESS -->
  <div class="success-wrap">
    <div class="success-ring">
      <div class="check-icon">âœ“</div>
    </div>
    <div class="success-title">Booking Confirmed! ðŸŽ‰</div>
    <div class="success-sub">Your appointment has been successfully booked.<br>You'll receive a notification shortly.
    </div>
    <div class="booking-id">
      #BK{{ '%04d' % booking.id if booking else '0001' }}
    </div>
  </div>

  <!-- STATUS -->
  <div style="margin-bottom:16px;position:relative;z-index:1">
    <div class="status-badge">
      <div class="status-dot"></div> Pending Confirmation from Salon
    </div>
  </div>

  <!-- BOOKING DETAILS -->
  <div class="card">
    <div class="card-title">ðŸ“‹ Booking Details</div>

    <div class="detail-row">
      <div class="detail-icon"><i class="fas fa-scissors"></i></div>
      <div>
        <div class="detail-label">Service</div>
        <div class="detail-val">{{ booking.service.name if booking else service.name }}</div>
      </div>
    </div>

    <div class="detail-row">
      <div class="detail-icon"><i class="fas fa-store"></i></div>
      <div>
        <div class="detail-label">Salon</div>
        <div class="detail-val">{{ booking.salon.name if booking else service.salon.name }}</div>
      </div>
    </div>

    <div class="detail-row">
      <div class="detail-icon"><i class="fas fa-calendar"></i></div>
      <div>
        <div class="detail-label">Date</div>
        <div class="detail-val">{{ booking.date if booking else 'â€”' }}</div>
      </div>
    </div>

    <div class="detail-row">
      <div class="detail-icon"><i class="fas fa-clock"></i></div>
      <div>
        <div class="detail-label">Time</div>
        <div class="detail-val">{{ booking.time if booking else 'â€”' }}</div>
      </div>
    </div>

    <div class="detail-row">
      <div class="detail-icon"><i class="fas fa-user-tie"></i></div>
      <div>
        <div class="detail-label">Expert</div>
        <div class="detail-val">
          {% if booking and booking.worker %}{{ booking.worker.name }}{% else %}Any Available Expert{% endif %}
        </div>
      </div>
    </div>

    <div class="detail-row">
      <div class="detail-icon"><i class="fas fa-hourglass-half"></i></div>
      <div>
        <div class="detail-label">Duration</div>
        <div class="detail-val">{{ booking.service.duration if booking else service.duration or 30 }} mins</div>
      </div>
    </div>
  </div>

  <!-- TOTAL -->
  <div class="total-row">
    <div class="total-label">Total Paid</div>
    <div class="total-val">â‚¹{{ ((booking.service.price if booking else service.price) * 1.18)|int }}</div>
  </div>

  <!-- ACTIONS -->
  <div class="btns">
    <a href="{{ url_for('home') }}?screen=bookings" class="btn-primary">
      <i class="fas fa-calendar-check"></i> View My Bookings
    </a>
    <a href="{{ url_for('home') }}" class="btn-secondary">
      <i class="fas fa-home"></i> Back to Home
    </a>
  </div>

  <script>
    /* CONFETTI */
    const colors = ['#a855f7', '#ec4899', '#10b981', '#fbbf24', '#60a5fa', '#f43f5e'];
    const container = document.getElementById('confetti');
    for (let i = 0; i < 60; i++) {
      const el = document.createElement('div');
      el.className = 'confetti-piece';
      el.style.cssText = `
      left:${Math.random() * 100}%;
      background:${colors[Math.floor(Math.random() * colors.length)]};
      width:${6 + Math.random() * 8}px;
      height:${6 + Math.random() * 8}px;
      border-radius:${Math.random() > 0.5 ? '50%' : '2px'};
      animation-duration:${2 + Math.random() * 3}s;
      animation-delay:${Math.random() * 1.5}s;
    `;
      container.appendChild(el);
    }
  </script>
</body>

</html>